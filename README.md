TASKS 



Добрый день. 
Предлагаем Вам для решения три тестовые задачи. 

Для дальнейшего собеседования на позицию джуниора необходимо решить хотя бы одну задачу, наиболее вам подходящую, даже с ошибками, оценивается подход к решению задачи.  
Для претендентов на позицию мидл необходимо решить две задачи, наиболее вам подходящие на хорошем уровне, либо все три без серьезных ошибок. 

Для претендентов на позицию сеньор необходимо решить все три задачи на хорошем уровне как на языке c#, так и на языке c++. 

Решение необходимо представить на почту job@npfratex.ru.
На решение дается 7 календарных дней с момента выдачи тестового задания. 

Решения желательно разместить в репозитории Github и прислать ссылки. Но можно прислать исходные коды.

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Просим Вас внимательно прочитать условия задач. Если есть вопросы, задавайте. 
Настаиваем на полном следовании условиям задач.
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Тестовая задача 1. Язык С++ либо C#. Среда разработки не ниже Visual Studio 2019.
 
Задача. Написать 2 консольных приложения Client.exe и Server.exe под Windows, обменивающихся файлами через UPD сокет с подтверждением по TCP.
 
1.Сервер. Server.exe
Первый параметр - IP, второй номер порта, третий - каталог для хранения файлов.
Сервер начинает прослушивать по IP адресу порт и ждет подключения клиента по TCP.
 
пример:
Server.exe 127.0.0.1 5555 temp
 
2. Клиент. Client.exe
Старт с 5 параметрами.
 
1 и 2 параметры - IP адрес и порт для подключения к серверу. Третий - порт для отправки UDP пакетов. Четвертый - путь к файлу. Пятый - таймаут на подтверждение UDP 
пакетов в милисекундах.
Пример
Client.exe 127.0.0.1 5555 6000 test.txt 500
 
3.Взаимодействие сервера и клиента.
При старте сервер открывает TCP сокет с IP адресом и портом из стартовых параметров(1 и 2 параметры), берет его на прослушивание и ожидает подключений от клиента.
 
Клиент при старте пытается подключиться к серверу по TCP на IP адрес и порт из стартовых параметров (1 и 2 параметры ) пока не будет установлено соединение. После 
установления соединения клиент загружает в память файл (3 параметр, размер файла не более 10 Мб.) и отправляет по TCP соединению имя файл и порт UDP на сервер.
Далее клиент начинает отправлять файл блоками (Каждый блок данных в udp пакетах должен содержать свой id)  udp датаграммами и получать по TCP подтверждения о приеме 
сервером. 
В случае если в течении таймаута (5 параметр) не было получено подтверждение на пакет, то пакет по udp отправляется повторно. В случае когда все пакеты подтверждены 
клиент уведомляет сервер TCP об окончании передачи файла,
закрывает TCP соединение, завершает работу.
 
Сервер после установления подключения клиента по ТСP, получения имя файла и порта udp открывает udp сокет и начинает принимать udp пакеты исходящие с IP адреса 
клиента и порта переданного клиентом.
На каждый полученный udp пакет сервер отправляет подтверждение через tcp сокет на клиент. Полученные пакеты хранятся в памяти. После получения от клиента 
уведомления об окончании передачи (все пакеты подтверждены на клиенте) сервер сохраняет файл в каталог (3 параметр).
После отключения клиента сервер должен продолжать работу и ждать еще подключения.
 
Формат посылок по TCP (имя файла, порт и подтверждения пакетов) - на ваше усмотрение
формат и нумерация блоков для udp пакетов - на ваше усмотрение
 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Тестовая задача 2. Язык С++ или C#. Среда разработки не ниже Visual Studio 2019.
 
Задача. Написать консольное приложение sniffer.exe под Windows. Приложение прослушивает трафик проходящий через Ethernet порт на уровне протокола IP.
sniffer.exe
Первый параметр - IP связанный с ethernet портом
Второй параметр - файл для записи данных о прошедшем трафике через порт.
пример:
sniffer.exe 192.168.1.200 data.log
 
При старте настроить сырой сокет на прослушивание входящего/исходящего трафика. В файл сохранять только распарсенные заголовки каждого IP пакета. В случае если IP пакет 
содержит UDP или TCP пакет - распарсить и их заголовок тоже и сохранить.
Формат записи в файл - на ваше усмотрение, но записи должны читаться из простейших текстовых редакторов типа блокнота.
 
 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 
Тестовая задача 3. Язык С++, Среда разработки Qt, либо C#, Среда разработки не ниже Visual Studio 2019 и технологии GUI - либо WinForms, либо WPF - на Ваше усмотрение.
 
Задача. Написать оконное приложение под Windows, с БД, поддерживающей механизм нотификаций (change notification) на Ваш выбор. Приложение должно отображать данные из 
таблицы в БД, 
синхронизация данных с БД  осуществляется через механизм notify.  
Приложение содержит следующие элементы управления:
1. Таблица
2. Поля для ввода данных подключения к базе данных.
3. Кнопки старт и стоп.
 
База данных. Состоит из одной таблицы с колонками id (integer) , flag(boolean), data(text)
 
Работа приложения. Приложение содержит 2 потока: главный поток GUI и поток обмена с базой данных. По нажатию кнопки старт в потоке обмена с базой данных устанавливается 
подключение к БД и подписывается на notify. 
Обработка уведомлений от базы данных и все запросы к бд происходят только в потоке обмена с базой данных.
По нажатию стоп соединение с бд закрывается.
 
Проверяемые сценарии работы:
 
1. Запустили приложение, нажали старт. В БД выполнили скрипт добавляющий 1000 строк в таблицу в одной транзакции. Добавление строк в таблице GUI должно произойти 
по возможности без подвисаний и ощутимых задержек.
2. Запустили приложение, нажали старт. В БД в таблице уже есть 1000 строк со значеним flag = true. Выполняем update меняющий flag на значение false. 
Обновление строк в таблице GUI должно произойти по возможности без подвисаний и ощутимых задержек.
 
Работа с БД (хранимые процедуры или просто sql запросы), организация notify от таблицы, расположение элементов GUI - на ваше усмотрение.
